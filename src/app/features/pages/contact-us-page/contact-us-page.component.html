<div class="flex justify-center my-5 mt-16">
  <ui-title title="Contáctenos" subtitle="Para cualquier aclaración o duda, puede ponerse en contacto con nosotros" />
</div>

<section class="mx-auto container md:max-w-[50vw] py-10 px-3">
  <div class="bg-base-100 border border-base-200 rounded-3xl sm:p-10 p-3 shadow-sm">

    @let status = contactUsRx.status();
    @let isLoading = status === 'loading';

    @if (contactUsRx.isLoading()) {
      <p>Enviando, espere...</p>
    }
    @else if (contactUsRx.error()) {
      <p>{{ contactUsRx.error() }}</p>
    }
    @else if (contactUsRx.hasValue() && value() != null) {
      <div class="bg-success rounded p-3 text-center">{{message()}}</div>
    }

    <form [formGroup]="myForm" (submit)="onSubmit()">
      <div class="flex flex-col gap-3">
        <label>Nombre</label>
        <label class="input w-full">
          <i class="fa-solid fa-align-left opacity-50"></i>
          <input type="text" class="grow" placeholder="Tu nombre" formControlName="name" />
        </label>

        <label>Celular</label>
        <label class="input w-full">
          <i class="fa-brands fa-whatsapp opacity-50"></i>
          <input
            type="text"
            class="grow"
            placeholder="Tu numero"
            formControlName="phoneNumber" />
        </label>

        <label>Mensaje</label>
        <textarea class="textarea w-full resize-none rounded-3xl"
          rows="4"
          placeholder="Tu mensaje"
          formControlName="message"></textarea>
        <div class="divider divider-neutral"> Opciones </div>
      </div>
      <div class="flex justify-center">
        <button type="submit" class="btn btn-neutral btn-wide hover:bg-pink-500"
          [disabled]="myForm.invalid || isLoading">
          Enviar
        </button>
      </div>
    </form>

  </div>
</section>
